{"ast":null,"code":"'use client';\n\nimport { useIsomorphicEffect } from '@mantine/hooks';\nfunction dispatchEvent(type, detail) {\n  window.dispatchEvent(new CustomEvent(type, {\n    detail\n  }));\n}\nfunction createUseExternalEvents(prefix) {\n  function _useExternalEvents(events) {\n    const handlers = Object.keys(events).reduce((acc, eventKey) => {\n      acc[`${prefix}:${eventKey}`] = event => events[eventKey](event.detail);\n      return acc;\n    }, {});\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach(eventKey => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n      return () => Object.keys(handlers).forEach(eventKey => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n      });\n    }, [handlers]);\n  }\n  function createEvent(event) {\n    return function () {\n      return dispatchEvent(`${prefix}:${String(event)}`, arguments.length <= 0 ? undefined : arguments[0]);\n    };\n  }\n  return [_useExternalEvents, createEvent];\n}\nexport { createUseExternalEvents };","map":{"version":3,"mappings":";;;AAEA,SAASA,aAAa,CAACC,IAAI,EAAEC,MAAM,EAAE;EACnCC,MAAM,CAACH,aAAa,CAAC,IAAII,WAAW,CAACH,IAAI,EAAE;IAAEC;EAAQ,EAAC,CAAC;AACzD;AACO,SAASG,uBAAuB,CAACC,MAAM,EAAE;EAC9C,SAASC,kBAAkB,CAACC,MAAM,EAAE;IAClC,MAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAI,CAACH,MAAM,CAAC,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,QAAQ,KAAK;MAC7DD,GAAG,CAAE,GAAEP,MAAO,IAAGQ,QAAS,EAAC,CAAC,GAAIC,KAAK,IAAKP,MAAM,CAACM,QAAQ,CAAC,CAACC,KAAK,CAACb,MAAM,CAAC;MACxE,OAAOW,GAAG;IACX,GAAE,CAAE,EAAC;IACNG,mBAAmB,CAAC,MAAM;MACxBN,MAAM,CAACC,IAAI,CAACF,QAAQ,CAAC,CAACQ,OAAO,CAAEH,QAAQ,IAAK;QAC1CX,MAAM,CAACe,mBAAmB,CAACJ,QAAQ,EAAEL,QAAQ,CAACK,QAAQ,CAAC,CAAC;QACxDX,MAAM,CAACgB,gBAAgB,CAACL,QAAQ,EAAEL,QAAQ,CAACK,QAAQ,CAAC,CAAC;MAC7D,CAAO,CAAC;MACF,OAAO,MAAMJ,MAAM,CAACC,IAAI,CAACF,QAAQ,CAAC,CAACQ,OAAO,CAAEH,QAAQ,IAAK;QACvDX,MAAM,CAACe,mBAAmB,CAACJ,QAAQ,EAAEL,QAAQ,CAACK,QAAQ,CAAC,CAAC;MAChE,CAAO,CAAC;IACR,CAAK,EAAE,CAACL,QAAQ,CAAC,CAAC;EACf;EACD,SAASW,WAAW,CAACL,KAAK,EAAE;IAC1B,OAAO;MAAA,OAAgBf,aAAa,CAAE,GAAEM,MAAO,IAAGe,MAAM,CAACN,KAAK,CAAE,EAAC,mDAAa;IAAA;EAC/E;EACD,OAAO,CAACR,kBAAkB,EAAEa,WAAW,CAAC;AAC1C","names":["dispatchEvent","type","detail","window","CustomEvent","createUseExternalEvents","prefix","_useExternalEvents","events","handlers","Object","keys","reduce","acc","eventKey","event","useIsomorphicEffect","forEach","removeEventListener","addEventListener","createEvent","String"],"sources":["/Users/tnkuseija/Desktop/poche/frontend/node_modules/@mantine/core/src/core/utils/create-use-external-events/create-use-external-events.ts"],"sourcesContent":["import { useIsomorphicEffect } from '@mantine/hooks';\n\nfunction dispatchEvent<T>(type: string, detail?: T) {\n  window.dispatchEvent(new CustomEvent(type, { detail }));\n}\n\nexport function createUseExternalEvents<Handlers extends Record<string, (detail: any) => void>>(\n  prefix: string\n) {\n  function _useExternalEvents(events: Handlers) {\n    const handlers = Object.keys(events).reduce<any>((acc, eventKey) => {\n      acc[`${prefix}:${eventKey}`] = (event: CustomEvent) => events[eventKey](event.detail);\n      return acc;\n    }, {});\n\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach((eventKey) => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n\n      return () =>\n        Object.keys(handlers).forEach((eventKey) => {\n          window.removeEventListener(eventKey, handlers[eventKey]);\n        });\n    }, [handlers]);\n  }\n\n  function createEvent<EventKey extends keyof Handlers>(event: EventKey) {\n    type Parameter = Parameters<Handlers[EventKey]>[0];\n\n    return (...payload: Parameter extends undefined ? [undefined?] : [Parameter]) =>\n      dispatchEvent(`${prefix}:${String(event)}`, payload[0]);\n  }\n\n  return [_useExternalEvents, createEvent] as const;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}